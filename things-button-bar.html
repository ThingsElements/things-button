<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">

<!--
  `Things Button Bar` 복수의 버튼을 Bar 형태로 관리하는 컴퍼넌트

  Example

    var buttons = [{
      id: 'import',
      text: 'Import',
      icon: 'icons:import'
    }, {
      id: 'export',
      text: 'Export',
      icon: 'icons:export'
    }, {
      id: 'add',
      text: 'add',
      icon: 'icons:add'
    }, {
      id: 'delete',
      text: 'Delete',
      icon: 'icons:delete'
    }, {
      id: 'save',
      text: 'Save',
      icon: 'icons:save'
    }];

    ...

    <things-button-bar id="btn-bar" buttons="[[buttons]]"></things-button-bar>

    ...

    listeners: {
      'btn-bar.things-button-tap' : 'onTapButton'
    }, 
    ...

    onTapButton: function(e) {
      console.log(e);
    }    
    
@demo demo/demo-things-button-bar.html
-->
<dom-module id="things-button-bar">
	<template>
    <template is="dom-repeat" items="[[buttons]]" as=button>
      <paper-button mini 
        id="[[button.id]]"
        color="[[button.color]]"
        confirm="[[button.confirm]]"
        title="[[button.title]]"
        message="[[button.message]]"
        on-tap="_onTabButton">{{button.text}}</paper-button>
    </template>
	</template>

	<script>
		Polymer({
			is: 'things-button-bar',

			properties: {
        /**
         * button 정보 리스트. 
         *
         * (example) :
         *
         * [ {
         *    id: 'import',
         *    text: 'Import',
         *    icon: 'icons:import',
         *  }, {
         *    id: 'export',
         *    text: 'Export',
         *    icon: 'icons:export'
         *  }, {
         *    id: 'add',
         *    text: 'add',
         *    icon: 'icons:add'
         *  }, {
         *    id: 'delete',
         *    text: 'Delete',
         *    icon: 'icons:delete'
         *  }, {
         *    id: 'save',
         *    text: 'Save',
         *    icon: 'icons:save'
         *  } ]
         */
        buttons : {
          type: Array
        }

        /**
         * 버튼이 클릭되면 {button-id}-tap 이벤트가 발생한다. 이 때 buttons에 설정한 버튼 정보가 파라미터로 날아간다.
         *
         * @event {button-id}-tap
         */
			},

      /**
       * 버튼이 클릭되면 things-button-tap 이벤트가 발생한다. 이 때 buttons에 설정한 버튼 정보가 파라미터로 날아간다. 
       * @param {Object} event
       */
      _onTabButton: function(e) {
        e.currentTarget.fire(e.currentTarget.id + '-tap', e.model._config.button);
      }

		});
	</script>
</dom-module>